### Використання та обмеження

**Випадки використання:**

* Відображати пости людей/груп на які підписаний юзер + пости рекомендуємих акаунтів
* Юзер може взаємодіяти з постами за допомогою:
  * Лайків
  * Коментарів
  * Шерінгу контенту

* Фід має бути нескінченним, при скролінгу має дозавантажуватись контент
* Контент складається з:
  * Фото
  * Відео
  * Галереї фото

* Відео має автоплей
* Кожен пост можна зберегти

**Обмеження та припущення**
* Доступ до контенту має бути швидким
* Лайки - 60 на годину/1440 на день
* Коментарі - 60 на годину/1440 на день
* MAU 1.28 мільярда
* DAU 500 мільйонів

![Imgur](https://i.imgur.com/6BVkqyG.png)
### Високорівнева має ряд недоліків

**SPOF**
* Немає лоадбалансера і веб сервер знаходиться на одному інстансі
* При великому навантаженні база даниих може стати точкою відмови

**Bottleneck**
* Відсутність CDN
* Проблемою може стати єдина точка входу для api, варто розділити
* Синхронно вносити зміни по різним сервісам/компонентам. Варто використати fan out
* Щоб не вантажити юзеру весь відео файл, варто використовувати стрімінг відео, наприклад hls. Де нам буде достатньо отримати маніфест і чанками передавати відео. Суттєво вплине на user experience

![Imgur](https://i.imgur.com/yHLXSsV.png)